(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9617],{5765:function(e,t,n){"use strict";n.r(t),n.d(t,{meta:function(){return p},default:function(){return c}});var o=n(96156),r=n(17375),a=(n(67294),n(3905)),i=n(17981);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={title:"Product Release"},s={};function c(e){var t=e.components,n=(0,r.Z)(e,["components"]);return(0,a.kt)("wrapper",l(l(l({},s),n),{},{components:t,mdxType:"MDXLayout"}),(0,a.kt)(i.id,l(l({},{title:"Product Release"}),{},{mdxType:"LayoutHandout"}),(0,a.kt)("h2",null,"Building the product"),(0,a.kt)("p",null,"Make sure your project is built before you release. You can build\nthe product with the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{}),"yarn product:build\n")),(0,a.kt)("h2",null,"Preparing for deployment"),(0,a.kt)("p",null,"If you want to take advantage of Github Actions and continuosly deploy your product and storybook to Github Pages, you will need to set a few things:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},'Make sure your working repository is public, and the deployment branch is set to "gh-pages". It can be checked and fixed in repository settinds on Github.')),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},'You need to edit "homepage" property in ./product/package.json. It should be pointing to your repository.'))),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{}),'{\n  "homepage": "https://<USERNAME>.github.io/<REPOSITORY_NAME>",\n  ...\n}\n')),(0,a.kt)("h2",null,"Releasing the product"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"When you are ready to release the product, you need to run the following command to bump the version:")),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{}),"yarn product:version\n")),(0,a.kt)("ol",l({},{start:2}),(0,a.kt)("li",{parentName:"ol"},"As soon as you push your commits to main branch, a Github Action(",(0,a.kt)("inlineCode",{parentName:"li"},".github/workflows/release.yml"),") will be triggered. It performs two tasks:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Checks the version of the product and compare it with previous one."),(0,a.kt)("li",{parentName:"ul"},"If version change is detected, build and deploy workflow is activated.")),(0,a.kt)("p",null,"Deploy won't run if the version is the same. If you still need to deploy the previous version for some reason, you can run it manually:"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{}),"yarn deploy\n")),(0,a.kt)("h2",null,"Goals"),(0,a.kt)("p",null,"Overall you have 1 hour for the following tasks: "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Update your product with tokens (as described at ",(0,a.kt)("a",l({parentName:"li"},{href:"../product-update"}),"Product Update")," page)"),(0,a.kt)("li",{parentName:"ul"},"When your designers will share with you the design updates, which you will need to bring into your library and product. The process is described in the next section: ",(0,a.kt)("a",l({parentName:"li"},{href:"../cast-in-code"}),"Cast in Code")," "),(0,a.kt)("li",{parentName:"ul"},"Release the new version of library and product, as described above."),(0,a.kt)("li",{parentName:"ul"},"If you finish early, visit bonus section - ",(0,a.kt)("a",l({parentName:"li"},{href:"../autosync"}),"Automatic synchronizations"))),(0,a.kt)("p",null,"We will meet in the main room 30 minutes before the end to review what we've done and exchange our experience.")))}c.isMDXComponent=!0},50776:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/hands-on-workshop/handout/v4/product-release",function(){return n(5765)}])}},function(e){e.O(0,[9774,2888,179],(function(){return t=50776,e(e.s=t);var t}));var t=e.O();_N_E=t}]);